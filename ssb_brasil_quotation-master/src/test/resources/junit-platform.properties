# ==============================================================================
# JUnit 5 Platform Configuration - Parallel Execution
# ==============================================================================

# Ativa execução paralela de testes
junit.jupiter.execution.parallel.enabled = true

# Estratégia de paralelização
# - same_thread: executa tudo sequencialmente (padrão)
# - concurrent: executa testes e containers em paralelo
junit.jupiter.execution.parallel.mode.default = concurrent
junit.jupiter.execution.parallel.mode.classes.default = concurrent

# Configuração de threads
# - dynamic: calcula baseado em cores disponíveis (factor * cores)
# - fixed: número fixo de threads
# - custom: implementação customizada
junit.jupiter.execution.parallel.config.strategy = dynamic

# Fator multiplicador para estratégia dynamic
# Valor recomendado: 1.0 (1 thread por core)
# Para CI/CD com recursos limitados: 0.5
# Para execução local com recursos abundantes: 2.0
junit.jupiter.execution.parallel.config.dynamic.factor = 1.0

# Configuração alternativa: número fixo de threads
# Descomente para usar estratégia fixed
# junit.jupiter.execution.parallel.config.strategy = fixed
# junit.jupiter.execution.parallel.config.fixed.parallelism = 4

# ==============================================================================
# Timeouts
# ==============================================================================

# Timeout padrão para cada teste (em segundos)
junit.jupiter.execution.timeout.default = 300

# Timeout para métodos @BeforeAll e @AfterAll
junit.jupiter.execution.timeout.lifecycle.method.default = 60

# Timeout para métodos @BeforeEach e @AfterEach
junit.jupiter.execution.timeout.lifecycle.beforeeach.default = 30
junit.jupiter.execution.timeout.lifecycle.aftereach.default = 30

# ==============================================================================
# Display Names
# ==============================================================================

# Estratégia de exibição de nomes de teste
# - standard: usa nome do método
# - jupiter: usa @DisplayName ou nome do método
junit.jupiter.displayname.generator.default = org.junit.jupiter.api.DisplayNameGenerator$ReplaceUnderscores

# ==============================================================================
# Extensions
# ==============================================================================

# Auto-detect de extensões (TestExecutionListener, etc)
junit.jupiter.extensions.autodetection.enabled = true

# ==============================================================================
# Condições
# ==============================================================================

# Executa testes desabilitados (@Disabled)
# false = ignora testes @Disabled (padrão)
# true = executa mesmo os @Disabled
junit.jupiter.conditions.deactivate = *

# ==============================================================================
# Test Instance Lifecycle
# ==============================================================================

# Ciclo de vida da instância de teste
# - per_method: nova instância para cada @Test (padrão)
# - per_class: mesma instância para todos os @Test da classe
junit.jupiter.testinstance.lifecycle.default = per_method

# ==============================================================================
# Configurações Customizadas para este Projeto
# ==============================================================================

# Para execução em CI/CD (recursos limitados)
# Descomente as linhas abaixo e comente as configurações acima
# junit.jupiter.execution.parallel.config.strategy = fixed
# junit.jupiter.execution.parallel.config.fixed.parallelism = 2
# junit.jupiter.execution.parallel.config.fixed.max-pool-size = 4

# Para debug (desabilita paralelismo)
# Descomente para executar sequencialmente durante debug
# junit.jupiter.execution.parallel.enabled = false
